1. Manually drop the tables

First, connect to your database via PhpMyAdmin and manually drop the tables:

    Note: Priortize dropping the choices tables first!

    - Go to `choices` table and click operations tab above
    - Scroll below and click Delete the table
    - Uncheck "Enable foreign key checks"
    - Click "OK"
    - It will drop the table 

    - Go to `questions` table and click operations tab above
    - Scroll below and click Delete the table
    - Uncheck "Enable foreign key checks"
    - Click "OK"
    - It will drop the table 
    
    - Go to `subjects` table and click operations tab above
    - Scroll below and click Delete the table
    - Uncheck "Enable foreign key checks"
    - Click "OK"
    - It will drop the table 

    - Go to `practice_exam_settings` table and click operations tab above
    - Scroll below and click Delete the table
    - Uncheck "Enable foreign key checks"
    - Click "OK"
    - It will drop the table 

2. Go inside migrations table 

3. Delete create_subjects_table && Delete create_questions_table && practice_exam_settings
  
4. Navigate to the backend container. Type this:
    docker exec -it caps_backend bash

5. Run migrations individually in MobaXterm terminal

    then run these commands one by one:


    php artisan migrate --path=Modules/Questions/Database/Migrations/2025_02_27_072146_create_statuses_table.php

    php artisan migrate --path=Modules/Questions/Database/Migrations/2025_02_27_072149_create_coverages_table.php

    php artisan migrate --path=Modules/Questions/Database/Migrations/2025_02_27_072149_create_difficulties_table.php

    php artisan migrate --path=Modules/Questions/Database/Migrations/2025_02_27_072149_create_purposes_table.php

    php artisan migrate --path=Modules/Subjects/Database/Migrations/2025_02_27_072146_create_year_levels_table.php

    php artisan migrate --path=Modules/Subjects/Database/Migrations/2025_02_27_072147_create_subjects_table.php

    php artisan migrate --path=Modules/Questions/Database/Migrations/2025_02_27_072150_create_questions_table.php


6. Run the database seeder

    This will seed the necessary data for normalization:


    php artisan db:seed


7. Run the migration for users table

    This adds `status_id` field to the users table and handles the transition from `status` string to the new normalized field:

    php artisan migrate --path=Modules/Users/Database/Migrations/2025_05_31_213032_add_status_id_to_users_table.php

8. Run the final migration for choices table

    This will migrate the choices table and practice_exam_settings:

    php artisan migrate

    Note: If practice_exam_settings is not migrated rerun the migration:
 
    php artisan migrate

9. Go to PhpMyAdmin and delete all the data in these tables:

- choices
- subjects  
-questions

Note: The reason the data should be deleted because there is data that will be generated by the seeders and those data are only used for testing environment.


10. Verify after each step

    After each command, **check your database** to see if changes have applied correctly.


